if (window["data"] == undefined){window.data={}}
window.data.onthemenu = [null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[{"classes":["commit","brentertz"],"subject":"Change text fields to email fields where appropriate.  Link email addresses.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Temporarily set \"config.assets.compile = true\" to enable runtime asset compilation on Heroku (daily environment)\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Debugging asset precompilation on Heroku. Just touching a file so can deploy an update and force Heroku to recompile slug.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Bundle update.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Adjust Bootstrap file structure/includes.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Data model spike.  Created application models and relationsips. Utilized acts_as_taggable_on for taggable model properties and categories.  Added base specs that check validations and relations, but require more thorough development.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Initial commit\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Add notes to client and description to recipe.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Include jquery_ujs in application.js, because we are using it.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add heroku.rake to slugignore.  This will hopefully allow the app to boot properly on Heroku.  It seems that maybe there was some sort of namespace conflict.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Use 'thin' as webserver on Heroku via Procfile.  Revert daily env setting --> config.assets.compile = false.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add \"state\" to Ingredients and Recipes.  Create DB migrations to add state properties. Implement events and transitions using state_machine gem.  Add ActiveRecord scopes for easily grabbing the different states.  Still need to determine and handle the logic for potentially updating an associated model when a state is changed.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Move CSS taggings from body element to html element so can style html and body tags appropriately.  Adjust viewport width for mobile optimization depending on layout in use.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Temporarily hardcode asset path in CSS because the SASS helper seems to have a problem in 'production'.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Styling and markup updates for login and forgot password pages.  Updated global button and alert styles.  There are a couple of broken specs...will fix in morning...\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Create initial sprite.  Add .ai and .psd to slugignore.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add client management functionality and specs.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Set viewport width to container width of 940 so it renders better on iOS\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Add base recipe CRUD - though not including any of the complex relationship stuff yet.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fixes fields_for usage in BootstrapFormBuilder\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Adjust BootstrapFormBuilder to more easily handle inclusions and exclusions\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Delete generated assets that we don't currently need\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add support for extra field types to BootstrapFormBuilder. Add notes field to restaurant.  Add CRUD pages for restaurants.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix specs...\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update bootstrap form builder to not output labels for inputs that are using placeholder text.  Update password_resets form accordingly.  Update password validation on the user model.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Not using BootstrapFormBuilder so can't use f.cancel here.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Other adjustments to BootstrapFormBuilder to better suit my mental model.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Updates to BootstrapFormBuilder - rename confusing label variable to field.  Add cancel button helper.  Experimentation with Recipe form.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Initial progress on client/recipe categories.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Remove debugger statement that was accidentally left in coffeescript file\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Experimenting with Heroku asset precompilation.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Progress on recipe CRUD.  Add dynamic restaurant filtering based on client selection.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Updates to client/recipe tagging.  Added a TaggingObserver to properly set the tagger (client) on the tagging.  The acts_as_taggable_on gem is quirky to say the least.  Assignments to tag_list/category_list do not function as expected.  Same previous issue still exists where entries on not remembered when for submission is invalid.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add recipe specs.  Shrink text_areas to 5 rows.  Add client/recipe category tagging. (though categories are not remembered/repopulated in form if validation fails)\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"Created partial for new client, recipe & ingredient sub-header.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Re-factored stylesheets and added more styling for dashboard\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Added more client seed data\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Added more markup & styling to dashboard\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Initial ingredients CRUD and specs - does not yet include relational properties: allergens/sensitivities/recipes.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update recipes to use ancesrty gem instead of manual AR relationships in order to get all bonus functionality.  Update recipe CRUD to include dynamically updating ancestry select box.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Started dashboard view & styling\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Swap out the buggy acts_as_taggable_on gem and implementation with rocket_tag which appears to just work.  Update related specs.  Note: There was no need to run the rocket_tag migration as it is identical to that used by acts_as_taggable_on.  This also fixes the issue where tags were not being remembered on failed form validations.\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"Added styles to add new ingredient page, inted to refactor\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Added cross_contacts form and functionality to recipes.  Refactored model relationships a bit - no longer need cross_contacts join table since recipes really only have_one cross_contact.  Still need to fix some specs and perhaps a little refactoring.  Run rake:db:migrate and clear any existing data after pulling.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Updated sprite & hover/active states in css\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add sensitivity form fields to ingredient CRUD.  Break out allergen and sensitivity fields into separate partials.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Added add header to main header partial and fixed styles\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Change allergen checkbox layout.  Add allergen disclaimer and tagging capability.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Progress on ingredients CRUD.  Added nested allergen form, though it does not yet include tags. (eg - gluten_types, soy_types, etc)\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Add notes property to ingredients and update views and factories. Remove extra label attributes from ingredients form fields that don't actually need them.  Remove extra seeds from seeds.rb as we can now simply use FactoryGirl in a rails console for easily creating dummy data.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Genericize and break out custom ancestry methods into new lib.  Keeps recipe model cleaner and enables reuse.  Also, all specs now passing due to recipe controller updates regarding proper handling of params[:recipe][:child_ids] for create vs update actions.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"made form styles consistent for rest of forms on site\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed login page styles\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"adjusting top navigation to reflect style more like comps\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Updates regarding recipe/subrecipe ancestry.  Now allows child recipes to be selected on a recipe form.  There are some specs that need fixing here.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Made styling for forms more consisitent by merging forms partial into bootstrap. Fixed tests for form changes.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add ingredients select box to recipes form.  Adjust order on header icons and add title text.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update model :dependent => :destroy relationships\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Merge cross_contact_fields and allergen_fields into shared partial.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update factories to build related models and have random initial values.  There are still a couple of specs failing but these are simply due to missing label elements and will be fixed in the near term.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Updating specs for recent changes.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Move recipe categories display from client to restaurant.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Tweak mailer text.  These still need improved copy.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Updated footer text\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Updated e-mail invitation copy.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Fixed top margin on login screen\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Remove 'corn' field from sensitivities per client request\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Initial progress on recipe and ingredient state changes.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Updated header styles to reflect comp + temporary nav bar for dev\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"added some margin and padding to login/password reset pages\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"moved custom.css into application and removed bootstrap import. added complete bootstrap import to init with custom.css.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix named scopes on recipe and ingredient models.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Upload the real json2.js\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add backbone.js files to repo and include in layout via asset pipeline.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Update cron/sphinx reindexing to call 'reenable' and 'invoke' rather than 'execute' alone.  This actually causes the indexing to execute, likely because causing execute only does not execute task dependencies.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add task description and output comment to cron rake task.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add cron task that will reindex sphinx search indices when called.  I enabled the hourly cron addon on Heroku which will execute this task.  You can run this on a local cron job as well - the task will use thinking_sphinx locally and flying_sphinx on Heroku.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Commented out development paths for sphinx\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"update to sphinx.yml\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add initial search functionality via Sphinx.  Add indexes on clients, restaurants, recipes, ingredients.  Add search for to dashboard and search page.  Display results grouped by object category.  Specs still need some work - need to get sphinx running in test environment.  Pages still need styled.  NOTE - This commit will break your local dev environment until you have done some additional configuration.  Please come to me for assistance.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Took out value of checked for checkboxes and fixed a button style\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed cross contacts header styling\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Added in general styling for buttons. Made all sensitivities/allergen boxes checked.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update recipe/recipe_ancestry relationships to include dependent destroy so that recipe_ancestries are kept clean.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Refactor recipe relationships to support unlimited parent/child nesting and to allow for reuse of recipes.  Basically created a self referential has_many through for recipes.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add links to 'all recipes/ingredients' in dashboard.\n","repo":"onthemenu"}],null,null,[{"classes":["commit","jessicard"],"subject":"removed delete button from user form\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"styled header/footer links\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"styled breadcrumbs\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"moved top dev links to footer & made a stylesheet for it.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Updates to dashboardy pages.  Remove confusing All Recipes and All Ingredients links.  Update breadcrumbs to include 'Dashboard' link.  Add sub headers before content lists...\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Removed unneccessary delete button from form edits\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"removed allergen color dots from sprite, added client icon and restaurant active icon\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add restaurant show page.  Break breadcrumb out into separate partial.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update search spec for client contextual search\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"added one more fix to button hovers\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed hover styles on buttons\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add client contextual search from client specific dashboard.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"styled search results page\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"commented out background image for breadcrumbs for now\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"styled breadcrumbs\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"added allergen icons to sprite\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"broke out stylesheets into individual files for better organization\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Updates to client index and show actions.  Add static breadcrumb restaurant listing on client dashboard.  Change the permission checks for displaying edit links on both pages.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Change dashboard left client link to point to show action\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add client show page - equivalent to the dashboard, scoped to a client.  Remove page title from dashboard.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"added sprite to search bar\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed table border styling\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"updated sprite\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Get rid of pages/index as dashboard in favor of just using clients/index instead.  Update routes, stylesheets and specs accordingly.  Update other specs to use have_link instead of have_content where appropriate.  Fix search spec to deal with search strings that require quotes around them to match.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"styled search bar\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"styled tables and buttons for index views and editing views of client/restaurant/recipe/ingredients\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Get search specs running, although they are very minimal at present.  Added search button to search form in order to be able to submit form via capybara.  It should be repositioned offscreen via CSS in main UI.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix authorization/access to search controller.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Migrate shared views into /views/application directory in order to support rails 3.1 template inheritance.  Not heard of it?  Check out the Railscast --> http://railscasts.com/episodes/269-template-inheritance\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"fixed pending tests and made all tests pass\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Hardcode the recipe and ingredient state rather than using state_machine after_build initialization.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add draft recipe and ingredient listing to dashboard pages, scoped by context.  Add pending spec stubs.  Set default_scope of models to actives_and_drafts.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"minor styling fixes/additions\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed failing capybara specs due to UI changes\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Sort alphabetically on models by default.  Also on restaurant.categories.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add recipe categories list to restaurants#show\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed spacing on checkboxes next to text fields\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"floated footer links left instead of right to display in correct order\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"started styling on drafts\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Initial development of recipe/ingredient state transition logic with recursive updates. This behavior needs validated with team.  Includes bare specs only at this point. Also wrote a couple of helper methods and specs for dealing with recipe/ingredient ancestry.  Also commented out types in Allergen factory for now as they seem to be causing intermittent test failures due to tagging validation exceptions.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Major CSS overhaul in order to improve maintainability and to better utilize Bootstrap framework.\n","repo":"onthemenu"}],null,[{"classes":["commit","brentertz"],"subject":"Style select lists to be sized more like the other fields in the app.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix select box height in firefox\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Minor CSS tweaks...\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"State transition updates.  Removed logic from recipe controller.  It is now in the Recipe model and StateTransitionValidator.  Recipes with draft descendants will now be prevented from being saved and will present a flash message.  Also, active recipes which have draft elements added will now be automatically transitioned to draft state. (There may still be a cleaner way to do some of this).  Tweaked a few CSS styles and associated markup in order to show draft elements in index tables.  Still need to add specs...\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fixes issue where calling recipe.all_ingredients would actually insert subrecipe ingredients into current recipe (via constituents).\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Initial base API design\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update to use FlyingSphinx in daily environment as well as production.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add sphinx delta indexing via delayed job for near immediate search index updates.  To enable in development, either run 'foreman start', or 'rake jobs:work'\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add allergen notes to ingredient search index.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Set test environment sphinx to run on alternate port than dev so that search tests may be run without needing to stop dev sphinx instance.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Add nested routes for client/restaurants in API\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Simplify api presenters a bit.  Now easier to call individual methods from controller.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Updates to API implementation with presenters\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"started on markup/styling for allergen & sensitivities reporting. added in bootstrap tab JS\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Refactor API presenters. Now look how clean the controller actions are!\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix cancan version specification\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add some API specs...  Test via presenters.  Include authentication and error specs.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"general drafts/form styling\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"updated cancan to v. 1.6.7\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Remove some of the automatically generated associations in FactoryGirl factories.  This breaks some specs for now, as model hierarchies will need built manually.  Simplyify the state transition ancestry logic.  No longer auto activating any ancestors under any conditions.  Finish model specs for recipe/ingredient state transitions.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Change routing on API to include both nested and root routes, with data filtering. (Need to discuss with team)  Also add simple token based authentication and error handling to API.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Reverted route nesting in API until give it some more thought.  Rename :id to :client_id in routes to make it more intuitive.\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"added legend, changed tab styles, fixed up styling for tables\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add route for obtaining restaurant recipes by category.Chacking in a bit early so Sam can pair and test it.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"updated styles for reporting\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update API presenters to only render JSON, so don't need to specify .json format in URL.  Further, this allows us to get rid of RackTest and make writing specs easier and more consistent.\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"started styling on search index page\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Enabled star in search, with minimum of 3 characters.  For more information, see http://freelancing-god.github.com/ts/en/advanced_config.html\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update recipe_presenter summaries to run off of all ingredients (including descendant recipe ingredients), rather than just immediate ingredients.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Changed up presenter option defaults - now very sensible.  With this change, I was able to simply push the default actions into the base_presenter.  Scenario specific options should be used to customize data output in child presenters by overriding #present_object.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Initial stab at adding allergen and sensitivity summaries in recipe_presenter.  This can probably be cleaned up a bit, but I wanted to have it for the meeting in 6 minutes. :)\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed login/pw reset screen margin issues\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"added section containers, styled forms for add/edit sensitivities/allergens\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update API authentication to be cookie based.  Update specs.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update presenters to be better about passing options to children while still appropriately handling :include_root.  Add options for :minimal and :default JSON representations.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Convert :partial to :include_root where I missed previously.\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"specs for recipes API controller\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Extract collection handling into base presenter class.  Update presenters to use :include_root rather than :partial and make it false by default.  Add API routes for ingredients.  Modify some of the presenters to return associated records.  This includes returning ingredients with the api_v1_restaurant_category_recipes route.  Change syntax for recipe/ingredients :actives_and_drafts scopes.\n","repo":"onthemenu"}],[{"classes":["commit","sambreed"],"subject":"adding specs for Restaurants API controller\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"making drafts list open and close\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"moving arrow icons to have more breathing room\n","repo":"onthemenu"}],null,null,[{"classes":["commit","brentertz"],"subject":"Trying to get reports running on Heroku\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Attempt to resolve slug compilation errors on Heroku\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Move toggle_drafts from application.js manifest into common.js.coffee.  Simply keeping code out of the manifest...\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Define ReportsHelper\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Initial checkin for reporting capabilities via DocRaptor service.  After you pull - Add the DOCRAPTOR_API_KEY to your config.yml defaults and then rake db:migrate and rake db:seed.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update recipe spec to test new helper methods.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Move some methods from recipe presenter into recipe model\n","repo":"onthemenu"}],[{"classes":["commit","sambreed"],"subject":"adding test case for https://www.pivotaltracker.com/story/show/20170179\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"over-riding the default fixed header. not meant for a header this big.\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"fixing bug in dynamic recipe redirect\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"refactoring recipes javascript\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"adding some smart redirect logic to recipes controller \tif a recipe has 1 restaurant, it redirects to that client-restaurant dashboard \tif a recipe has > 1 restaurants, redirect to the client dashboard\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"fixing duplicate restaurant category bug - Restaurant.categories now returns a list without dupes\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"first pass at Backbone implementation of Recipe Charts\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"adding handlebars dependency to js manifest\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"adding OTM namespace to JS\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"making asset.debug false by default in dev. use ?debug_assets=true if you want to see of all of the files\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"adding handlebars and execjs dependecies\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"upgrading underscore\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update restaurant.category_recipes to make it easier to iterate.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add a category_recipes method to the restaurant model that returns all of the recipes for a restaurant organized by category.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add report spec stubs - pending.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Get rid of report description column in reports index.  The names are self explanatory.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Refactor reports!  Use tableless model as report base class and subclasses in lib/reports.  Now can handle user input params more effectively and can have custom validation based on report type.  Got rid of dummy reports and added initial report structure for 'recipes by client' and 'recipes by restaurant'. End result is that code is much cleaner and more flexible as well.  Lastly, if you rake db:migrated to add the reports yesterday, then please rake db:rollback to get rid of them - they are not going in the DB.\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"Started styling & layout of PDF & HTML reports\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Downcase tags\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"making chart tabs bind dynamically\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Use named html character entity for bullet so that it renders properly via javascript.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update recipe presenter for category_recipes to render exact output needed for display.  This saves us from duplicate logic in ruby and js.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Updated PDF/HTML markup\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add recipe helper methods to determine the appropriate recipe data to show.  No specs yet...wanna get it in before meeting in 15 minutes.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Added markup/styling for pdf/html reports by client\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fixes issue where form styles would break on validation errors when adding/editing a recipe/ingredient.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fixes issue with not being able to retire a recipe with draft descendants.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Forgot the when for $.when( deferred )\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add legend to allergen charts on restaurants page.  Update associated styles.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Implement checkbox toggle button for cross_contacts on recipe page\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Convert uncheck button to toggle button\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Remove some legacy js code\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Implement uncheck buttons on ingredients page.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Implement category_name arrow toggle on restaurants show page.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add recipe/edit links to menu items in allergen/sensitivities charts\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Render dynamic allergens and sensitivities charts.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Refactor report views into directories and partials.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update indicators to use &bull; and &times; as they are easier to distinguish from one another than a bullet and asterisk.\n","repo":"onthemenu"}],null,null,[{"classes":["commit","brentertz"],"subject":"Add minimal jQueryUI to asset pipeline, including autocompleter widget.  No theme.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"First draft at exposing tags via JSON API\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Get rid of jquery-rails and modernizr-rails gems in favor of manually storing js libraries in /vender/javascripts.  Fix bad path in jquery_cdn local fallback.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Add tag autocompleters to respective form fields throughout application.  Included minimal styling.  Recipe category lookups are not currently scoped to restaurant - need to investigate further how to handle this.  The trickiness lies in the fact that a recipe can belong to zero or many restaurants at the time the tag lookup is performed.  Add jquery-rails and modernizr rails gems back in - still needed.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Add corn field (haha) to sensitivities.\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"starting Backbone code for ingredient switching\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"switching away from modernizr gem\n","repo":"onthemenu"},{"classes":["commit","sambreed"],"subject":"adding rbenv stuff to gitignore\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Make autocompleter results scrollable.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed styling and ordering of state buttons in add/edit recipe/ingredient\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed styles for \"artificial coloring\"\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Case insensitive comparison for API tags\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Case insensitive comparison for API ingredients find\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Remove downcase of params[:term] in API ingredients find\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"No, really this time.  Add ingredients.js to precompile list in daily environment.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix for compiling ingredients.js on Heroku\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Fixed how ingredients were being shown for recipes & styled ingredients by restaurant report.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix jquery_cdn fallback which wasn't working on Heroku since it didn't precompile\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Change food coloring to artificial coloring.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Begin development on dynamic ingredient lookup from recipes page.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Remove old starter files no longer needed.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add some more specs for the API tags_controller\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Started reporting for ingredients by restaurant\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"Refactored positioning on sprite, finished styles on search index page\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Combine recipes_list and ingredients_list back together into one constituent_list so that new items are always appended to end of list.  It is much more intuitive this way.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update API for recipe constituents to pass allergen and sensitivity summary information as well as boolean data. This data, which includes tag names, etc will be needed when rendering the dynamic charts on the recipe page.  Moved some logic from presenters into models.  Some of it is repetitive and can likely be refactored out of the Recipe and Ingredients models and into the Allergen and Sensitivities models.  Added placeholder section for charts on recipes page.  Updated related files...\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed arrow styling & fixed minor inconsistencies in ingredient/recipe add form for add recipe\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix recipe constituent toggle arrow and close recipe constituents by default\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Added markup and styling for adding ingredients/subrecipes to a recipe\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix client request specs that were broken due to change in factories that causes them to not auto generate associations.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add a few and fix a few API specs\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add cross_contact allergen data to recipe constituents lookup data.  Update view to display new data.  Also place title attributes on indicators to show allergen name.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Separate recipe constituents into separate lists - recipes/ingredients.  Create separate span for recipe toggle icon.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Change constituent header and placeholder text to ingredients\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Implement API endpoint for recipe constituent data.  Implement constituents lookup/autocompleter on recipe page.  Allow subrecipes when creating a new recipe - ancestry limitations for new records have been removed.  Improve parameter string splitting for using regex string.split(/, */)  Much styling and left todo and many specs to write!\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Redirect to client_url after create/update restaurant\n","repo":"onthemenu"}],null,null,[{"classes":["commit","jessicard"],"subject":"started adding legend and images to reports\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"added styles for allergen/sensitivity reporting on create/edit recipe\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add dynamic allergen and sensitivity charts to recipe page via backbone.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Only include constituent list if item is a recipe\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add cross_contact allergen display to nested subrecipe display in recipe-constituents\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add additional level of subrecipes to recipe constituent list so that allergen information may be easily traced all the way back to ingredients regardless of the level of nesting.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update constituent routes and data lookup to have more restful and intuitive URLs.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Make recipe categories a required field.  This ensures that recipes will always show up in the categorized list of recipes on the restaurants page.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add -update case to page specific CSS so that styles do not break on failed form validation.\n","repo":"onthemenu"}],[{"classes":["commit","brentertz"],"subject":"Do not display recipe categories on the new restaurant page.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Bind tag input to associated checkbox, so that checkboxes are automatically checked if the tag input has content.  This action is performed onBlur.  It could additionally be run onSubmit for improved reliability, but from a data perspective, it is not a big deal as tags always override the checkbox if populated.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add some js comments for future reference\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed \"is admin\" checkbox styling for editing users\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed button stylings\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed minor spacing issues\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Remove previous activity indicators - done testing\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Testing ajax-loader on Heroku...\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add AJAX activity indicators to autocompleters\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"updated email copy and flash notice copy\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add ajax-loader CSS and images.  These are not yet utilized in the UI anywhere.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Only add new ingredient if input field is not empty\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update recipe 'add additional ingredient' to simply add the ingredient to the collection rather than rerun search\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed font sizes\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed links on search index page to go to edit\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"added utilities partial + styles. made font more consistent, removed footer links if rails env is production\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Update delete links to use :method => delete.  Fix broken redirect after save restaurant.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add delete user link to users admin area\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"Added CRUD delete buttons for deleting clients/restaurants\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add \"Add Additional Ingredient\" button to recipe page that creates a new draft ingredient if the ingredient name is not found in the constituent lookup.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"updated sprite to have gray delete icons\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Render allergen and sensitivity charts at initialization so that they appear even if a recipe has no ingredients or subrecipes.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix incorrectly hidden menu item styles on allergen/sensitivities charts.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Fix incorrectly hidden menu item styles on allergen/sensitivities charts.  Change All Clients to Clients on dashboard.\n","repo":"onthemenu"}],[{"classes":["commit","jessicard"],"subject":"added logo images to PDF reporting\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"fixed drafts header partial styling\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Add no results messages and associated links to dashboard pages.\n","repo":"onthemenu"},{"classes":["commit","brentertz"],"subject":"Check permissions rather than role.  There is a subtle but very important difference that could become a pain point as the application scales to more roles in the future.\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"styled users page & fixed capitalization on ingredients reports\n","repo":"onthemenu"},{"classes":["commit","jessicard"],"subject":"styled reports page\n","repo":"onthemenu"}]]